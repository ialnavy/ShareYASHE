<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="913px" preserveAspectRatio="none" style="width:997px;height:913px;background:#FFFFFF;" version="1.1" viewBox="0 0 997 913" width="997px" zoomAndPan="magnify"><defs/><g><!--MD5=[7da5605bbc58a221e14b4197dc0ccac6]
cluster businessLayer--><g id="cluster_businessLayer"><path d="M8.5,6 L112.5,6 A3.75,3.75 0 0 1 115,8.5 L122,29.6094 L703.5,29.6094 A2.5,2.5 0 0 1 706,32.1094 L706,903.5 A2.5,2.5 0 0 1 703.5,906 L8.5,906 A2.5,2.5 0 0 1 6,903.5 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="122" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="103" x="10" y="22.5332">Business layer</text></g><!--MD5=[5e05692f49dc322d60edd39e6647f52e]
cluster render--><g id="cluster_render"><path d="M205.5,50 L258.5,50 A3.75,3.75 0 0 1 261,52.5 L268,73.6094 L679.5,73.6094 A2.5,2.5 0 0 1 682,76.1094 L682,183.5 A2.5,2.5 0 0 1 679.5,186 L205.5,186 A2.5,2.5 0 0 1 203,183.5 L203,52.5 A2.5,2.5 0 0 1 205.5,50 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="203" x2="268" y1="73.6094" y2="73.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="207" y="66.5332">Render</text></g><!--MD5=[ed98728a148e5e560feef3182efb09df]
cluster persistenceLayer--><g id="cluster_persistenceLayer"><path d="M732.5,528 L855.5,528 A3.75,3.75 0 0 1 858,530.5 L865,551.6094 L987.5,551.6094 A2.5,2.5 0 0 1 990,554.1094 L990,661.5 A2.5,2.5 0 0 1 987.5,664 L732.5,664 A2.5,2.5 0 0 1 730,661.5 L730,530.5 A2.5,2.5 0 0 1 732.5,528 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="730" x2="865" y1="551.6094" y2="551.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="122" x="734" y="544.5332">Persistence layer</text></g><!--MD5=[3252b1d7d63d6cc6058457f1f895baf4]
class businessFactory--><g id="elem_businessFactory"><rect codeLine="4" fill="#F1F1F1" height="48" id="businessFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="22" y="488"/><ellipse cx="37" cy="504" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M39.7656,499.875 Q39.9219,499.6563 40.1094,499.5469 Q40.2969,499.4375 40.5156,499.4375 Q40.8906,499.4375 41.125,499.7031 Q41.3594,499.9531 41.3594,500.5625 L41.3594,502.0156 Q41.3594,502.625 41.125,502.8906 Q40.8906,503.1563 40.5156,503.1563 Q40.1719,503.1563 39.9688,502.9531 Q39.7656,502.7656 39.6563,502.25 Q39.6094,501.8906 39.4219,501.7031 Q39.0938,501.3281 38.4844,501.1094 Q37.875,500.8906 37.25,500.8906 Q36.4844,500.8906 35.8438,501.2188 Q35.2188,501.5469 34.7188,502.2969 Q34.2344,503.0469 34.2344,504.0781 L34.2344,505.1719 Q34.2344,506.4063 35.125,507.2344 Q36.0156,508.0469 37.6094,508.0469 Q38.5469,508.0469 39.2031,507.7969 Q39.5938,507.6406 40.0156,507.2031 Q40.2813,506.9375 40.4219,506.8594 Q40.5781,506.7813 40.7813,506.7813 Q41.1094,506.7813 41.3594,507.0469 Q41.625,507.2969 41.625,507.6406 Q41.625,507.9844 41.2813,508.3906 Q40.7813,508.9688 39.9844,509.2969 Q38.9063,509.75 37.6094,509.75 Q36.0938,509.75 34.8906,509.125 Q33.9063,508.625 33.2188,507.5625 Q32.5313,506.4844 32.5313,505.2031 L32.5313,504.0469 Q32.5313,502.7188 33.1406,501.5781 Q33.7656,500.4219 34.8594,499.8125 Q35.9531,499.1875 37.1875,499.1875 Q37.9219,499.1875 38.5625,499.3594 Q39.2188,499.5156 39.7656,499.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="51" y="509.7285">BusinessFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="158" y1="520" y2="520"/><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="158" y1="528" y2="528"/></g><!--MD5=[f56623fcca29d2d1b30b637f79092096]
class abstractBusiness--><g id="elem_abstractBusiness"><rect codeLine="6" fill="#F1F1F1" height="83.2188" id="abstractBusiness" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="313" x="286" y="204.5"/><ellipse cx="383.75" cy="220.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M385.9375,222.2656 L381.7969,222.2656 L381.375,223.2969 L381.7969,223.2969 Q382.4063,223.2969 382.6719,223.5313 Q382.9375,223.7656 382.9375,224.1563 Q382.9375,224.5313 382.6719,224.7656 Q382.4063,225 381.7969,225 L379.5,225 Q378.8906,225 378.6406,224.7656 Q378.375,224.5313 378.375,224.1406 Q378.375,223.7656 378.6563,223.5313 Q378.9219,223.2813 379.5469,223.2969 L382.2188,216.6406 L381.1094,216.6406 Q380.5,216.6406 380.2344,216.4063 Q379.9688,216.1719 379.9688,215.7813 Q379.9688,215.4063 380.2344,215.1719 Q380.5,214.9375 381.1094,214.9375 L384.7813,214.9375 L388.1719,223.2969 Q388.7656,223.2969 388.9531,223.4375 Q389.3438,223.7031 389.3438,224.1563 Q389.3438,224.5313 389.0781,224.7656 Q388.8281,225 388.2188,225 L385.9219,225 Q385.3125,225 385.0469,224.7656 Q384.7813,224.5313 384.7813,224.1406 Q384.7813,223.7656 385.0469,223.5313 Q385.3125,223.2969 385.9219,223.2969 L386.3438,223.2969 L385.9375,222.2656 Z M385.2188,220.5625 L383.8594,217.1875 L382.4844,220.5625 L385.2188,220.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="109" x="404.25" y="226.2285">AbstractBusiness</text><line style="stroke:#181818;stroke-width:0.5;" x1="287" x2="598" y1="236.5" y2="236.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="287" x2="598" y1="244.5" y2="244.5"/><ellipse cx="297" cy="258.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287" x="306" y="263.0332">AbstractBusiness(app, mongoClient, req, res)</text><ellipse cx="297" cy="276.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="306" y="280.6426">cipherPassword(password)</text></g><!--MD5=[874b3934711e7e4af52d9f99e94e1fb4]
class authBusiness--><g id="elem_authBusiness"><rect codeLine="11" fill="#F1F1F1" height="188.875" id="authBusiness" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="372" y="322.5"/><ellipse cx="397.35" cy="338.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M400.1156,334.375 Q400.2719,334.1563 400.4594,334.0469 Q400.6469,333.9375 400.8656,333.9375 Q401.2406,333.9375 401.475,334.2031 Q401.7094,334.4531 401.7094,335.0625 L401.7094,336.5156 Q401.7094,337.125 401.475,337.3906 Q401.2406,337.6563 400.8656,337.6563 Q400.5219,337.6563 400.3188,337.4531 Q400.1156,337.2656 400.0063,336.75 Q399.9594,336.3906 399.7719,336.2031 Q399.4438,335.8281 398.8344,335.6094 Q398.225,335.3906 397.6,335.3906 Q396.8344,335.3906 396.1938,335.7188 Q395.5688,336.0469 395.0688,336.7969 Q394.5844,337.5469 394.5844,338.5781 L394.5844,339.6719 Q394.5844,340.9063 395.475,341.7344 Q396.3656,342.5469 397.9594,342.5469 Q398.8969,342.5469 399.5531,342.2969 Q399.9438,342.1406 400.3656,341.7031 Q400.6313,341.4375 400.7719,341.3594 Q400.9281,341.2813 401.1313,341.2813 Q401.4594,341.2813 401.7094,341.5469 Q401.975,341.7969 401.975,342.1406 Q401.975,342.4844 401.6313,342.8906 Q401.1313,343.4688 400.3344,343.7969 Q399.2563,344.25 397.9594,344.25 Q396.4438,344.25 395.2406,343.625 Q394.2563,343.125 393.5688,342.0625 Q392.8813,340.9844 392.8813,339.7031 L392.8813,338.5469 Q392.8813,337.2188 393.4906,336.0781 Q394.1156,334.9219 395.2094,334.3125 Q396.3031,333.6875 397.5375,333.6875 Q398.2719,333.6875 398.9125,333.8594 Q399.5688,334.0156 400.1156,334.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="413.65" y="344.2285">AuthBusiness</text><line style="stroke:#181818;stroke-width:0.5;" x1="373" x2="512" y1="354.5" y2="354.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="512" y1="362.5" y2="362.5"/><ellipse cx="383" cy="376.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="392" y="381.0332">isUserLogged()</text><ellipse cx="383" cy="394.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="392" y="398.6426">getUserLogged()</text><ellipse cx="383" cy="412.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="392" y="416.252">doLogin()</text><ellipse cx="383" cy="429.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="392" y="433.8613">doLogout()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="392" y="451.4707">Â </text><ellipse cx="383" cy="464.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="392" y="469.0801">isValidEmail()</text><ellipse cx="383" cy="482.4609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="392" y="486.6895">isValidUsername()</text><ellipse cx="383" cy="500.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="392" y="504.2988">isValidPassword()</text></g><!--MD5=[f7a4df2807922779f251788f357d28e8]
class shExDocBusiness--><g id="elem_shExDocBusiness"><rect codeLine="22" fill="#F1F1F1" height="188.875" id="shExDocBusiness" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="286" x="299.5" y="700.5"/><ellipse cx="381.25" cy="716.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M384.0156,712.375 Q384.1719,712.1563 384.3594,712.0469 Q384.5469,711.9375 384.7656,711.9375 Q385.1406,711.9375 385.375,712.2031 Q385.6094,712.4531 385.6094,713.0625 L385.6094,714.5156 Q385.6094,715.125 385.375,715.3906 Q385.1406,715.6563 384.7656,715.6563 Q384.4219,715.6563 384.2188,715.4531 Q384.0156,715.2656 383.9063,714.75 Q383.8594,714.3906 383.6719,714.2031 Q383.3438,713.8281 382.7344,713.6094 Q382.125,713.3906 381.5,713.3906 Q380.7344,713.3906 380.0938,713.7188 Q379.4688,714.0469 378.9688,714.7969 Q378.4844,715.5469 378.4844,716.5781 L378.4844,717.6719 Q378.4844,718.9063 379.375,719.7344 Q380.2656,720.5469 381.8594,720.5469 Q382.7969,720.5469 383.4531,720.2969 Q383.8438,720.1406 384.2656,719.7031 Q384.5313,719.4375 384.6719,719.3594 Q384.8281,719.2813 385.0313,719.2813 Q385.3594,719.2813 385.6094,719.5469 Q385.875,719.7969 385.875,720.1406 Q385.875,720.4844 385.5313,720.8906 Q385.0313,721.4688 384.2344,721.7969 Q383.1563,722.25 381.8594,722.25 Q380.3438,722.25 379.1406,721.625 Q378.1563,721.125 377.4688,720.0625 Q376.7813,718.9844 376.7813,717.7031 L376.7813,716.5469 Q376.7813,715.2188 377.3906,714.0781 Q378.0156,712.9219 379.1094,712.3125 Q380.2031,711.6875 381.4375,711.6875 Q382.1719,711.6875 382.8125,711.8594 Q383.4688,712.0156 384.0156,712.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="401.75" y="722.2285">ShExDocBusiness</text><line style="stroke:#181818;stroke-width:0.5;" x1="300.5" x2="584.5" y1="732.5" y2="732.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="300.5" x2="584.5" y1="740.5" y2="740.5"/><ellipse cx="310.5" cy="754.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="319.5" y="759.0332">getShExDocsByOwner(owner)</text><ellipse cx="310.5" cy="772.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="319.5" y="776.6426">isCreableShExDoc()</text><ellipse cx="310.5" cy="790.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="319.5" y="794.252">createShExDocForOneOwner(username)</text><ellipse cx="310.5" cy="807.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="319.5" y="811.8613">existsShExDoc(shExDocId)</text><ellipse cx="310.5" cy="825.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="319.5" y="829.4707">getShExDocById(shExDocId)</text><ellipse cx="310.5" cy="842.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="319.5" y="847.0801">isOwnedBy(shExDocId, givenUser)</text><ellipse cx="310.5" cy="860.4609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235" x="319.5" y="864.6895">removeOwner(shExDocId, givenUser)</text><ellipse cx="310.5" cy="878.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="319.5" y="882.2988">addOwner(shExDocId, givenUser)</text></g><!--MD5=[a4b908da1277ad54f5f0ae416ae852ff]
class userBusiness--><g id="elem_userBusiness"><rect codeLine="33" fill="#F1F1F1" height="118.4375" id="userBusiness" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="227" x="329" y="547"/><ellipse cx="395.25" cy="563" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M398.0156,558.875 Q398.1719,558.6563 398.3594,558.5469 Q398.5469,558.4375 398.7656,558.4375 Q399.1406,558.4375 399.375,558.7031 Q399.6094,558.9531 399.6094,559.5625 L399.6094,561.0156 Q399.6094,561.625 399.375,561.8906 Q399.1406,562.1563 398.7656,562.1563 Q398.4219,562.1563 398.2188,561.9531 Q398.0156,561.7656 397.9063,561.25 Q397.8594,560.8906 397.6719,560.7031 Q397.3438,560.3281 396.7344,560.1094 Q396.125,559.8906 395.5,559.8906 Q394.7344,559.8906 394.0938,560.2188 Q393.4688,560.5469 392.9688,561.2969 Q392.4844,562.0469 392.4844,563.0781 L392.4844,564.1719 Q392.4844,565.4063 393.375,566.2344 Q394.2656,567.0469 395.8594,567.0469 Q396.7969,567.0469 397.4531,566.7969 Q397.8438,566.6406 398.2656,566.2031 Q398.5313,565.9375 398.6719,565.8594 Q398.8281,565.7813 399.0313,565.7813 Q399.3594,565.7813 399.6094,566.0469 Q399.875,566.2969 399.875,566.6406 Q399.875,566.9844 399.5313,567.3906 Q399.0313,567.9688 398.2344,568.2969 Q397.1563,568.75 395.8594,568.75 Q394.3438,568.75 393.1406,568.125 Q392.1563,567.625 391.4688,566.5625 Q390.7813,565.4844 390.7813,564.2031 L390.7813,563.0469 Q390.7813,561.7188 391.3906,560.5781 Q392.0156,559.4219 393.1094,558.8125 Q394.2031,558.1875 395.4375,558.1875 Q396.1719,558.1875 396.8125,558.3594 Q397.4688,558.5156 398.0156,558.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="415.75" y="568.7285">UserBusiness</text><line style="stroke:#181818;stroke-width:0.5;" x1="330" x2="555" y1="579" y2="579"/><line style="stroke:#181818;stroke-width:1.0;" x1="330" x2="555" y1="587" y2="587"/><ellipse cx="340" cy="601.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="349" y="605.5332">createUser()</text><ellipse cx="340" cy="618.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="349" y="623.1426">checkLoginCredentials()</text><ellipse cx="340" cy="636.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="349" y="640.752">existsUser(user)</text><ellipse cx="340" cy="654.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="349" y="658.3613">unregisterUser(givenUsername)</text></g><!--MD5=[b22f281a03eabe00d27869ff4e7ac867]
class renderBusiness--><g id="elem_renderBusiness"><rect codeLine="42" fill="#F1F1F1" height="83.2188" id="renderBusiness" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="447" x="219" y="86.5"/><ellipse cx="386.25" cy="102.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M389.0156,98.375 Q389.1719,98.1563 389.3594,98.0469 Q389.5469,97.9375 389.7656,97.9375 Q390.1406,97.9375 390.375,98.2031 Q390.6094,98.4531 390.6094,99.0625 L390.6094,100.5156 Q390.6094,101.125 390.375,101.3906 Q390.1406,101.6563 389.7656,101.6563 Q389.4219,101.6563 389.2188,101.4531 Q389.0156,101.2656 388.9063,100.75 Q388.8594,100.3906 388.6719,100.2031 Q388.3438,99.8281 387.7344,99.6094 Q387.125,99.3906 386.5,99.3906 Q385.7344,99.3906 385.0938,99.7188 Q384.4688,100.0469 383.9688,100.7969 Q383.4844,101.5469 383.4844,102.5781 L383.4844,103.6719 Q383.4844,104.9063 384.375,105.7344 Q385.2656,106.5469 386.8594,106.5469 Q387.7969,106.5469 388.4531,106.2969 Q388.8438,106.1406 389.2656,105.7031 Q389.5313,105.4375 389.6719,105.3594 Q389.8281,105.2813 390.0313,105.2813 Q390.3594,105.2813 390.6094,105.5469 Q390.875,105.7969 390.875,106.1406 Q390.875,106.4844 390.5313,106.8906 Q390.0313,107.4688 389.2344,107.7969 Q388.1563,108.25 386.8594,108.25 Q385.3438,108.25 384.1406,107.625 Q383.1563,107.125 382.4688,106.0625 Q381.7813,104.9844 381.7813,103.7031 L381.7813,102.5469 Q381.7813,101.2188 382.3906,100.0781 Q383.0156,98.9219 384.1094,98.3125 Q385.2031,97.6875 386.4375,97.6875 Q387.1719,97.6875 387.8125,97.8594 Q388.4688,98.0156 389.0156,98.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="406.75" y="108.2285">RenderBusiness</text><line style="stroke:#181818;stroke-width:0.5;" x1="220" x2="665" y1="118.5" y2="118.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="665" y1="126.5" y2="126.5"/><ellipse cx="230" cy="140.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="421" x="239" y="145.0332">RenderBusiness(app, mongoClient, req, res, title, renderTemplate)</text><ellipse cx="230" cy="158.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="356" x="239" y="162.6426">render(message, username, ownedShExDocs, shExDoc)</text></g><!--MD5=[b8c49ce65009a926f05f28dea06ae306]
class persistenceFactory--><g id="elem_persistenceFactory"><rect codeLine="50" fill="#F1F1F1" height="83.2188" id="persistenceFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="746" y="564.5"/><ellipse cx="794.75" cy="580.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M797.5156,576.375 Q797.6719,576.1563 797.8594,576.0469 Q798.0469,575.9375 798.2656,575.9375 Q798.6406,575.9375 798.875,576.2031 Q799.1094,576.4531 799.1094,577.0625 L799.1094,578.5156 Q799.1094,579.125 798.875,579.3906 Q798.6406,579.6563 798.2656,579.6563 Q797.9219,579.6563 797.7188,579.4531 Q797.5156,579.2656 797.4063,578.75 Q797.3594,578.3906 797.1719,578.2031 Q796.8438,577.8281 796.2344,577.6094 Q795.625,577.3906 795,577.3906 Q794.2344,577.3906 793.5938,577.7188 Q792.9688,578.0469 792.4688,578.7969 Q791.9844,579.5469 791.9844,580.5781 L791.9844,581.6719 Q791.9844,582.9063 792.875,583.7344 Q793.7656,584.5469 795.3594,584.5469 Q796.2969,584.5469 796.9531,584.2969 Q797.3438,584.1406 797.7656,583.7031 Q798.0313,583.4375 798.1719,583.3594 Q798.3281,583.2813 798.5313,583.2813 Q798.8594,583.2813 799.1094,583.5469 Q799.375,583.7969 799.375,584.1406 Q799.375,584.4844 799.0313,584.8906 Q798.5313,585.4688 797.7344,585.7969 Q796.6563,586.25 795.3594,586.25 Q793.8438,586.25 792.6406,585.625 Q791.6563,585.125 790.9688,584.0625 Q790.2813,582.9844 790.2813,581.7031 L790.2813,580.5469 Q790.2813,579.2188 790.8906,578.0781 Q791.5156,576.9219 792.6094,576.3125 Q793.7031,575.6875 794.9375,575.6875 Q795.6719,575.6875 796.3125,575.8594 Q796.9688,576.0156 797.5156,576.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="815.25" y="586.2285">PersistenceFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="747" x2="973" y1="596.5" y2="596.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="747" x2="973" y1="604.5" y2="604.5"/><ellipse cx="757" cy="618.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="174" x="766" y="623.0332">forUsers(app, mongoClient)</text><ellipse cx="757" cy="636.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="202" x="766" y="640.6426">forShExDocs(app, mongoClient)</text></g><!--MD5=[5cbfdb64b5aded75b7fb531fa1e2dacd]
link shExDocBusiness to abstractBusiness--><g id="link_shExDocBusiness_abstractBusiness"><path codeLine="56" d="M299.47,765.42 C248.51,746.37 198.44,715.24 177,664.5 C162.21,629.5 162.21,357.5 177,322.5 C192.84,285 227.36,263.96 266.42,252.58 " fill="none" id="shExDocBusiness-to-abstractBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="264.81,245.77,285.91,247.74,268.18,259.36,264.81,245.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[fc589c08520ea6909d1a701a60dcf288]
link userBusiness to abstractBusiness--><g id="link_userBusiness_abstractBusiness"><path codeLine="57" d="M328.77,582.61 C285.01,570.61 235.81,553.26 195,529 C185.41,523.3 181.34,521.78 177,511.5 C160.65,472.81 160.65,361.19 177,322.5 C192.84,285 227.36,263.96 266.42,252.58 " fill="none" id="userBusiness-to-abstractBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="264.81,245.77,285.91,247.74,268.18,259.36,264.81,245.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[abef854a16759c58abf7a602a402fafb]
link authBusiness to abstractBusiness--><g id="link_authBusiness_abstractBusiness"><path codeLine="58" d="M442.5,322.48 C442.5,317.57 442.5,312.65 442.5,307.74 " fill="none" id="authBusiness-to-abstractBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="435.5,307.53,442.5,287.53,449.5,307.53,435.5,307.53" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8b3e8a9c1b5257153bb8910b32480b0f]
link renderBusiness to abstractBusiness--><g id="link_renderBusiness_abstractBusiness"><path codeLine="59" d="M442.5,169.59 C442.5,174.35 442.5,179.11 442.5,183.86 " fill="none" id="renderBusiness-to-abstractBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="449.5,184.05,442.5,204.05,435.5,184.05,449.5,184.05" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4dd978678f37c13e392445eb6f14daa8]
link businessFactory to shExDocBusiness--><g id="link_businessFactory_shExDocBusiness"><path codeLine="61" d="M100.79,536.22 C115.7,572.29 148.14,640.32 195,682 C223.87,707.67 259.56,728.5 294.73,744.95 " fill="none" id="businessFactory-to-shExDocBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="299.47,747.14,292.9598,739.7496,294.926,745.0538,289.6219,747.02,299.47,747.14" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[aaa869e2df7c9a1618c0bc8b53101519]
link businessFactory to userBusiness--><g id="link_businessFactory_userBusiness"><path codeLine="62" d="M159.4,530.24 C206,542.75 269.07,559.69 323.75,574.38 " fill="none" id="businessFactory-to-userBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="328.68,575.7,321.0123,569.5189,323.8484,574.4135,318.9538,577.2496,328.68,575.7" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9a396338f4924ac738c77d1602cbf088]
link businessFactory to authBusiness--><g id="link_businessFactory_authBusiness"><path codeLine="63" d="M159.4,493.57 C218.95,477.41 305.39,453.94 366.87,437.26 " fill="none" id="businessFactory-to-authBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="371.99,435.87,362.2543,434.3814,367.1665,437.1868,364.3612,442.099,371.99,435.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6e8b4222a8e28b6fad8fdeb9555943c2]
link businessFactory to renderBusiness--><g id="link_businessFactory_renderBusiness"><path codeLine="64" d="M90.97,487.9 C91,425.44 100.33,257.3 195,173 C201.12,167.55 207.68,162.66 214.57,158.27 " fill="none" id="businessFactory-to-renderBusiness" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="218.9,155.61,209.1355,156.8965,214.6354,158.2201,213.3117,163.72,218.9,155.61" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bb41c39a94d17838f89f506a67554e26]
link shExDocBusiness to persistenceFactory--><g id="link_shExDocBusiness_persistenceFactory"><path codeLine="66" d="M585.61,738.36 C627.31,721.01 672.77,701.37 714,682 C734.93,672.17 757.19,660.91 777.84,650.13 " fill="none" id="shExDocBusiness-to-persistenceFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="782.49,647.69,772.6625,648.3381,778.0645,650.017,776.3856,655.419,782.49,647.69" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a12b81d0139b4dd1f9fb4a4e8c53e9af]
link userBusiness to persistenceFactory--><g id="link_userBusiness_persistenceFactory"><path codeLine="67" d="M556.21,606 C613.37,606 682.75,606 740.68,606 " fill="none" id="userBusiness-to-persistenceFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="745.89,606,736.89,602,740.89,606,736.89,610,745.89,606" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ffab1a3f57c14660d833c186da2c6a46]
link authBusiness to persistenceFactory--><g id="link_authBusiness_persistenceFactory"><path codeLine="68" d="M513.23,443.74 C568.33,465.39 646.87,497.37 714,529 C735.54,539.15 758.47,550.88 779.58,562.07 " fill="none" id="authBusiness-to-persistenceFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="784.06,564.45,778.0051,556.6822,779.6494,562.0948,774.2368,563.7392,784.06,564.45" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4423981b40d4cc7272ef5c04351105f8]
@startuml ShareYASHE - Classes structure - Business layer
left to right direction

package "Business layer" as businessLayer {
    class "BusinessFactory" as businessFactory {
    }
    abstract class "AbstractBusiness" as abstractBusiness {
        - -
        +AbstractBusiness(app, mongoClient, req, res)
        +cipherPassword(password)
    }
    class "AuthBusiness" as authBusiness {
        - -
        +isUserLogged()
        +getUserLogged()
        +doLogin()
        +doLogout()

        +isValidEmail()
        +isValidUsername()
        +isValidPassword()
    }
    class "ShExDocBusiness" as shExDocBusiness {
        - -
        +getShExDocsByOwner(owner)
        +isCreableShExDoc()
        +createShExDocForOneOwner(username)
        +existsShExDoc(shExDocId)
        +getShExDocById(shExDocId)
        +isOwnedBy(shExDocId, givenUser)
        +removeOwner(shExDocId, givenUser)
        +addOwner(shExDocId, givenUser)
    }
    class "UserBusiness" as userBusiness {
        - -
        +createUser()
        +checkLoginCredentials()
        +existsUser(user)
        +unregisterUser(givenUsername)
    }

    package "Render" as render {
        class "RenderBusiness" as renderBusiness {
            - -
            +RenderBusiness(app, mongoClient, req, res, title, renderTemplate)
            +render(message, username, ownedShExDocs, shExDoc)
        }
    }
}
package "Persistence layer" as persistenceLayer {
    class "PersistenceFactory" as persistenceFactory {
        {static}+forUsers(app, mongoClient)
        {static}+forShExDocs(app, mongoClient)
    }
}

shExDocBusiness -right-|> abstractBusiness
userBusiness -right-|> abstractBusiness
authBusiness -right-|> abstractBusiness
renderBusiness -right-|> abstractBusiness

businessFactory - -> shExDocBusiness
businessFactory - -> userBusiness
businessFactory - -> authBusiness
businessFactory - -> renderBusiness

shExDocBusiness - -> persistenceFactory
userBusiness - -> persistenceFactory
authBusiness - -> persistenceFactory

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: es
Country: ES
--></g></svg>